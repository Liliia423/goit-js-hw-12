import{a as S,S as w,i as l}from"./assets/vendor-hwdYKDic.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function r(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(o){if(o.ep)return;o.ep=!0;const n=r(o);fetch(o.href,n)}})();const L="45378122-3aa1f0accb7d59cfaae2c348a",q="https://pixabay.com/api/";async function d(e,t=1){try{return(await S.get(q,{params:{key:L,q:e,image_type:"photo",orientation:"horizontal",safesearch:!0,per_page:15,page:t}})).data}catch(r){throw console.error("Error in requestSending:",r.message),new Error(`HTTP error! ${r.message}`)}}function E(){const e=document.querySelector("main"),t=document.createElement("form");t.className="search-image-form";const r=document.createElement("input");r.type="text",r.name="field",r.className="search-field",r.placeholder="Search images...",t.appendChild(r);const s=document.createElement("button");s.textContent="Search",s.type="submit",s.className="submit-button",t.appendChild(s),e.prepend(t)}function m(e){const t=document.querySelector(".gallery"),r=e.map(o=>`
    <li>
    
      <a href="${o.largeImageURL}" title="${o.tags}">
        <img src="${o.webformatURL}" alt="${o.tags}" />  
      </a>
       <div class="gallery-info">
        <p class="gallery-info-item"><b>Likes:</b> ${o.likes}</p>
        <p class="gallery-info-item"><b>Views:</b> ${o.views}</p>
        <p class="gallery-info-item"><b>Comments:</b> ${o.comments}</p>
        <p class="gallery-info-item"><b>Downloads:</b> ${o.downloads}</p>
      </div>
    </li>
  `).join("");t.insertAdjacentHTML("beforeend",r),new w(".gallery a",{captionsData:"alt",captionDelay:250}).refresh()}function v(){const e=document.querySelector(".gallery"),t=document.createElement("button");t.textContent="Load more",t.type="button",t.className="submit-button load-more-button",t.style.display="none";const r=document.createElement("div");r.className="loader",r.style.display="none",e.insertAdjacentElement("afterend",t),t.insertAdjacentElement("afterend",r)}E();v();const B=document.querySelector(".search-image-form"),u=document.querySelector(".search-field"),N=document.querySelector(".gallery"),y=document.querySelector(".loader");let a=1,f="";function g(){y.style.display="block"}function p(){y.style.display="none"}function h(){const e=document.querySelector(".load-more-button");e&&(e.style.display="block")}function c(){const e=document.querySelector(".load-more-button");e&&(e.style.display="none")}function M(){const e=document.querySelector(".gallery li");return e?e.getBoundingClientRect().height:(console.warn("No gallery items found!"),0)}function b(){const e=document.querySelector(".gallery li");if(e){const t=e.getBoundingClientRect().height;setTimeout(()=>{window.scrollBy({top:2*t,behavior:"smooth"})},100)}else console.warn("No gallery items found for scrolling.")}B.addEventListener("submit",async e=>{e.preventDefault();const t=u.value.trim();if(t){f=t,a=1,N.innerHTML="",c(),g();try{const r=await d(t,a);if(r.hits.length===0)throw new Error("No results found");m(r.hits),M(),setTimeout(()=>{b()},100),r.totalHits>a*15?h():l.info({message:"We're sorry, but you've reached the end of search results.",position:"topRight",class:"info-toast",timeout:4e3})}catch{l.error({message:"Sorry, there are no images matching your search query. Please try again.",position:"topRight",class:"error-toast",timeout:4e3})}finally{p()}u.value=""}});const x=document.querySelector(".load-more-button");x.addEventListener("click",async()=>{a+=1,g(),c();try{const e=await d(f,a);m(e.hits),setTimeout(()=>{b()},300),a*15>=e.totalHits?(l.info({message:"We're sorry, but you've reached the end of search results.",position:"topRight",class:"info-toast",timeout:4e3}),c()):h()}catch{l.error({message:"An error occurred while loading more images. Please try again.",position:"topRight",class:"error-toast",timeout:4e3})}finally{p()}});
//# sourceMappingURL=index.js.map
